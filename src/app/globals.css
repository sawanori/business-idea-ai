@import "tailwindcss";

/* カスタムフォント */
@layer base {
  html {
    font-family: var(--font-noto-sans-jp), system-ui, sans-serif;
  }

  body {
    @apply bg-slate-50 text-slate-800;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* スクロールバーのカスタマイズ */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-slate-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400;
  }

  /* 選択時のハイライト */
  ::selection {
    @apply bg-orange-200 text-orange-900;
  }
}

/* コンポーネントスタイル */
@layer components {
  /* グラデーションボタン */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2
           px-6 py-3 rounded-full
           bg-gradient-to-r from-orange-500 to-orange-600
           text-white font-semibold
           shadow-lg shadow-orange-500/30
           hover:shadow-orange-500/50 hover:scale-105
           active:scale-100
           transition-all duration-300
           disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
  }

  /* セカンダリボタン */
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2
           px-6 py-3 rounded-full
           bg-slate-100 text-slate-700 font-medium
           hover:bg-slate-200
           active:bg-slate-300
           transition-colors duration-200
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* カードスタイル */
  .card {
    @apply bg-white rounded-2xl shadow-md border border-slate-100
           transition-shadow duration-300
           hover:shadow-lg;
  }

  .card-dark {
    @apply bg-slate-800/50 backdrop-blur-sm rounded-2xl
           border border-slate-700
           transition-colors duration-300
           hover:border-orange-500/50;
  }

  /* 入力フィールド */
  .input {
    @apply w-full px-4 py-3 rounded-lg
           bg-white border border-slate-200
           text-slate-800 placeholder-slate-400
           focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500
           transition-all duration-200;
  }

  /* チャットバブル */
  .chat-bubble-user {
    @apply max-w-[80%] rounded-2xl px-4 py-3 shadow-md
           bg-gradient-to-br from-orange-400 to-orange-500 text-white;
  }

  .chat-bubble-assistant {
    @apply max-w-[80%] rounded-2xl px-4 py-3 shadow-md
           bg-white text-slate-800 border border-slate-100;
  }
}

/* ユーティリティスタイル */
@layer utilities {
  /* テキストグラデーション */
  .text-gradient {
    @apply text-transparent bg-clip-text
           bg-gradient-to-r from-orange-400 to-orange-600;
  }

  /* グラスモーフィズム */
  .glass {
    @apply bg-white/10 backdrop-blur-md border border-white/20;
  }

  /* アニメーション */
  .animate-pulse-slow {
    animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* セーフエリア対応 */
  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top, 0px);
  }

  /* タップハイライト無効化（モバイル） */
  .tap-highlight-none {
    -webkit-tap-highlight-color: transparent;
  }

  /* スムーズスクロール */
  .scroll-smooth {
    scroll-behavior: smooth;
  }

  /* オーバーレイグラデーション */
  .overlay-gradient {
    @apply absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-slate-900/80;
  }
}

/* PWA固有のスタイル */
@media (display-mode: standalone) {
  body {
    /* スタンドアロンモードでの追加スタイル */
    overscroll-behavior: none;
  }

  /* iOSのセーフエリア対応 */
  .pwa-safe-area {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* モバイル最適化 */
@media (max-width: 640px) {
  /* タッチ領域の最小サイズ確保 */
  button, a {
    min-height: 44px;
    min-width: 44px;
  }
}

/* ダークモード対応（将来用） */
@media (prefers-color-scheme: dark) {
  /* 将来的にダークモード対応する場合のスタイル */
}

/* アニメーションを減らす設定への対応 */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
